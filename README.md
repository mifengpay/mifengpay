
# å¼€å‘æ–‡æ¡£

## ç›®å½•

- [å¼€å‘å‰å¿…è¯»](#å¼€å‘å‰å¿…è¯»)
    - [ç®€ä»‹](#ç®€ä»‹)
    - [é€šç”¨è¯´æ˜](#é€šç”¨è¯´æ˜)
        - [æ¥å£ä½¿ç”¨å‰æ](#æ¥å£ä½¿ç”¨å‰æ)
        - [æ¥å£æˆæƒ](#æ¥å£æˆæƒ)
        - [ç­¾åè§„åˆ™](#ç­¾åè§„åˆ™)
- [è®¢å•ç®¡ç†](#è®¢å•ç®¡ç†)

    - [ç»Ÿä¸€ä¸‹å•](#ç»Ÿä¸€ä¸‹å•)    
    - [è®¢å•æŸ¥è¯¢](#è®¢å•æŸ¥è¯¢)
    - [ä½™é¢æŸ¥è¯¢](#ä½™é¢æŸ¥è¯¢)
    - [ä»£ä»˜](#ä»£ä»˜)
    - [é“¶è¡Œå¡æ¸ é“åˆ—è¡¨](#é“¶è¡Œå¡æ¸ é“åˆ—è¡¨)
    - [ç»Ÿä¸€ä¸‹å•ã€ç­¾åã€‘](#ç»Ÿä¸€ä¸‹å•ç­¾å)    
    - [è®¢å•æŸ¥è¯¢ã€ç­¾åã€‘](#è®¢å•æŸ¥è¯¢ç­¾å)
    - [ä½™é¢æŸ¥è¯¢ã€ç­¾åã€‘](#ä½™é¢æŸ¥è¯¢ç­¾å)
    - [ä»£ä»˜ã€ç­¾åã€‘](#ä»£ä»˜ç­¾å)
    - [é“¶è¡Œå¡æ¸ é“åˆ—è¡¨ã€ç­¾åã€‘](#é“¶è¡Œå¡æ¸ é“åˆ—è¡¨ç­¾å)
- [å¼‚æ­¥é€šçŸ¥](#å¼‚æ­¥é€šçŸ¥)

- [æ›´æ–°æ—¥å¿—](#æ›´æ–°æ—¥å¿—)
- [è”ç³»æˆ‘ä»¬](#è”ç³»æˆ‘ä»¬)

# å¼€å‘å‰å¿…è¯»
## ç®€ä»‹
## é€šç”¨è¯´æ˜
### æ¥å£ä½¿ç”¨å‰æ
æœ¬å¹³å°æ”¯æŒaccess_tokenä¸signä¸¤ç§æ¨¡å¼ï¼Œè¯·å¼€å‘ä¹‹å‰å…ˆè·å–é€‚åˆè‡ªå·±å›¢é˜Ÿçš„è¯·æ±‚æ–¹å¼
### æ¥å£æˆæƒ
```
è¯¥æˆæƒæ–¹å¼äºå›¢é˜Ÿå¼€å‘è€…è¯»å†™å›¢é˜Ÿä¸‹çš„æ•°æ®ã€‚
```
#### ç¬¬ä¸€æ­¥ï¼š è·å–å›¢é˜Ÿæˆæƒ access_token
1. è¿™é‡Œè·å–çš„ access_token ä¸å›¢é˜Ÿèµ„æºç›¸å…³ï¼Œå®‰å…¨ç­‰çº§éå¸¸é«˜ï¼Œå¿…é¡»åªä¿å­˜åœ¨æœåŠ¡å™¨ï¼Œä¸å…è®¸ä¼ ç»™å®¢æˆ·ç«¯ã€‚
2. åç»­é€šè¿‡ access_token è·å–å›¢é˜Ÿæ•°æ®ç­‰æ­¥éª¤ï¼Œä¹Ÿå¿…é¡»ä»æœåŠ¡å™¨å‘èµ·ã€‚
3. å»ºè®®å¼€å‘è€…ä½¿ç”¨ä¸­æ§æœåŠ¡å™¨ç»Ÿä¸€è·å–å’Œåˆ·æ–° access_tokenï¼Œå…¶ä»–ä¸šåŠ¡é€»è¾‘æœåŠ¡å™¨æ‰€ä½¿ç”¨çš„ access_token å‡æ¥è‡ªäºè¯¥ä¸­æ§æœåŠ¡å™¨ï¼Œä¸åº”è¯¥å„è‡ªå»åˆ·æ–°ï¼Œå¦åˆ™å®¹æ˜“é€ æˆå†²çªï¼Œå¯¼è‡´ access_token è¦†ç›–è€Œå½±å“ä¸šåŠ¡ï¼ˆå¤šæ¬¡åˆ·æ–° access_token ï¼Œä»…æœ‰æœ€æ–°ä¸€ä¸ªæœ‰æ•ˆï¼‰ã€‚
4. access_token æœ‰æ•ˆæœŸä¸º2å°æ—¶ï¼Œå»ºè®®ä¸­æ§æœåŠ¡å™¨ä¸ä»…éœ€è¦å†…éƒ¨å®šæ—¶ä¸»åŠ¨åˆ·æ–°ï¼Œè¿˜éœ€è¦æä¾›è¢«åŠ¨åˆ·æ–° access_token çš„æ¥å£ï¼Œè¿™æ ·ä¾¿äºä¸šåŠ¡æœåŠ¡å™¨åœ¨APIè°ƒç”¨è·çŸ¥ access_token å·²è¶…æ—¶çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥è§¦å‘ access_token çš„åˆ·æ–°æµç¨‹ã€‚

##### æ¥å£åœ°å€
- åŠŸèƒ½: ç»Ÿä¸€ä¸‹å•
- è¯·æ±‚æ–¹å¼: POST
- è¯·æ±‚åœ°å€: v1/api/pay/accesstoken

```bash
POST https://open.mifengpay.com/v1/api/pay/accesstoken
```
```json
{
	"mch_id": 10086,
	"secret": "4ZWQBPN5SFP7MW6EQHXSCGLMAZVJZT4I",
	"request_id": "@guid()"
} 
```
##### å‚æ•°è¯´æ˜

| å‚æ•°å | ç±»å‹   | æ˜¯å¦å¿…é¡» | æè¿°                 |
| ------ | ------ | :------: | -------------------- |
| mch_id | int |    æ˜¯    | å”¯ä¸€æ€§å•†æˆ·ç¼–å·       |
| secret | string |    æ˜¯    | é¢å‘ç»™å•†æˆ·çš„æ¥å£å¯†é’¥ |
| request_id| string | å¦ | GUID, å¯ä¸ä¼ , åšå¹‚ç­‰æˆ–è€…å®¢æˆ·è‡ªå·±å›è°ƒç”¨ |


##### è¿”å›è¯´æ˜
| å‚æ•°å     | ç±»å‹   | æè¿°                                        |
| ---------- | ------ | ------------------------------------------- |
| token      | string | æˆæƒç                                       |
| expires_in | int    | æœ‰æ•ˆæ—¶é—´ï¼Œé»˜è®¤ä¸º2å°æ—¶ï¼Œè¿‡æœŸåé¡»é‡æ–°å‘èµ·æˆæƒ |
| request_id| string | GUID|

```json
{
	"code": 0,
	"msg": "",
	"error": "",
	"data": {
		"token": "B7C5F08637FB4E8BADDAFF698187AE5B",
		"expires_in": 43200
	},
	"request_id": "db7EeF4C-540f-e5b7-DB06-0cebfE745dA6",
	"req": null
}
```
### ç­¾åè§„åˆ™
```
è¯¥æ–¹å¼ç”¨äºç›´æ¥é‡‡ç”¨MD5ç­¾åçš„æ–¹å¼
```

#### ç­¾åç®—æ³•

##### ç¬¬ä¸€æ­¥
è®¾æ‰€æœ‰å‘é€æˆ–è€…æ¥æ”¶åˆ°çš„æ•°æ®ä¸ºé›†åˆMï¼Œå°†é›†åˆMå†…éç©ºå‚æ•°å€¼çš„å‚æ•°æŒ‰ç…§å‚æ•°åASCIIç ä»å°åˆ°å¤§æ’åºï¼ˆå­—å…¸åºï¼‰ï¼Œä½¿ç”¨URLé”®å€¼å¯¹çš„æ ¼å¼ï¼ˆå³key1=value1&key2=value2â€¦ï¼‰æ‹¼æ¥æˆå­—ç¬¦ä¸²stringAã€‚

ç‰¹åˆ«æ³¨æ„ä»¥ä¸‹é‡è¦è§„åˆ™ï¼š
- å‚æ•°åASCIIç ä»å°åˆ°å¤§æ’åºï¼ˆå­—å…¸åºï¼‰ï¼›
- å‚æ•°ååŒºåˆ†å¤§å°å†™ï¼›
- å•†æˆ·ä¼ é€çš„signå‚æ•°ä¸å‚ä¸ç­¾åï¼Œå¹³å°ä¸»åŠ¨é€šçŸ¥ä¼ é€çš„signå‚æ•°ä¸å‚ä¸ç­¾å
- æ¥å£å¯èƒ½å¢åŠ å­—æ®µï¼ŒéªŒè¯ç­¾åæ—¶å¿…é¡»æ”¯æŒå¢åŠ çš„æ‰©å±•å­—æ®µ

##### ç¬¬äºŒæ­¥
åœ¨stringAæœ€åæ‹¼æ¥ä¸Škeyå¾—åˆ°stringSignTempå­—ç¬¦ä¸²ï¼Œå¹¶å¯¹stringSignTempè¿›è¡ŒMD5è¿ç®—ï¼Œå†å°†å¾—åˆ°çš„å­—ç¬¦ä¸²æ‰€æœ‰å­—ç¬¦è½¬æ¢ä¸ºå°å†™ï¼Œå¾—åˆ°signå€¼ã€‚

ä¸¾ä¾‹ï¼š
å‡è®¾ä¼ é€çš„å‚æ•°å¦‚ä¸‹ï¼š
```
appidï¼š wxd930ea5d5a258f4f
mch_idï¼š 888888
device_infoï¼š 876543
bodyï¼š body
nonce_strï¼š ABCDEFG
```

å¯¹å‚æ•°æŒ‰ç…§key=valueçš„æ ¼å¼ï¼Œå¹¶æŒ‰ç…§å‚æ•°åASCIIå­—å…¸åºæ’åºå¦‚ä¸‹ï¼š
```go
stringA="appid=wxd930ea5d5a258f4f&body=body&device_info=876543&mch_id=888888&nonce_str=ABCDEFG";
```

æ‹¼æ¥APIå¯†é’¥ï¼š
```go
stringSignTemp=stringA + "&key=api_key" //æ³¨ï¼šapi_keyä¸ºå•†æˆ·å¹³å°è®¾ç½®çš„å¯†é’¥key
```


## ä½¿ç”¨è§„åˆ™
æ¬¢è¿æ‚¨ä½¿ç”¨èœœèœ‚ğŸæ”¯ä»˜ï¼ˆä¸‹ç§° â€œäº§å“â€ï¼‰ã€‚åœ¨æ‚¨æ­£å¼å¼€é€šæ¥å£æœåŠ¡ä¹‹å‰ï¼Œè¯·æ‚¨åŠ¡å¿…å®¡æ…é˜…è¯»ã€å……åˆ†ç†è§£åœ¨ä½¿ç”¨èœœèœ‚ğŸæ”¯ä»˜æ¥å£æ—¶åº”å½“éµå¾ªçš„è§„åˆ™ã€‚æ‚¨ä½¿ç”¨èœœèœ‚æ”¯ä»˜æ¥å£æœåŠ¡å³è§†ä¸ºæ‚¨å·²é˜…è¯»å¹¶åŒæ„æœ¬è§„åˆ™å…¨éƒ¨å†…å®¹çš„çº¦æŸã€‚

1. èœœèœ‚ğŸæ”¯ä»˜ API æ¥å£æœåŠ¡ä¸ºå•†æˆ·æä¾›è®¢å• webhook æ¥å£é…ç½®ç­‰æŠ€æœ¯æœåŠ¡ï¼Œå…·ä½“æœåŠ¡å†…å®¹è¯·è§ æ¥å£æ–‡æ¡£ï¼ˆä¸‹ç§° â€œæœåŠ¡â€ï¼‰ã€‚

2. ä½¿ç”¨é™åˆ¶ï¼šæ¯ä¸ªå•†æˆ·è´¦å·çš„ mer_id è°ƒç”¨å¼€æ”¾æ¥å£çš„é¢‘ç‡ä¸å¯è¶…è¿‡ 20 æ¬¡ / ç§’ï¼Œå¦åˆ™å¯èƒ½ä¼šå› é«˜é¢‘è°ƒç”¨è€Œè¿”å›é”™è¯¯ã€‚


3. èœœèœ‚ğŸæ”¯ä»˜ç‰¹åˆ«æé†’æ‚¨åº”å¦¥å–„ä¿ç®¡æ‚¨çš„åº”ç”¨å‡­è¯ï¼ˆåŒ…æ‹¬ mer_id å’Œ secretï¼‰ã€‚èœœèœ‚ğŸæ”¯ä»˜ä¸æ‚¨å…±åŒè´Ÿæœ‰ç»´æŠ¤åº”ç”¨å‡­è¯å®‰å…¨çš„è´£ä»»ã€‚èœœèœ‚ğŸæ”¯ä»˜ä¼šé‡‡å–å¹¶ä¸æ–­æ›´æ–°æŠ€æœ¯æªæ–½ï¼ŒåŠªåŠ›ä¿æŠ¤æ‚¨çš„åº”ç”¨å‡­è¯åœ¨æœåŠ¡å™¨ç«¯çš„å®‰å…¨ã€‚æ‚¨éœ€è¦é‡‡å–ç‰¹å®šæªæ–½ä¿æŠ¤æ‚¨çš„åº”ç”¨å‡­è¯å®‰å…¨ã€‚æ‚¨ä¸å¾—å°†èœœèœ‚ğŸæ”¯ä»˜çš„åº”ç”¨å‡­è¯ä»¥ä»»ä½•æ–¹å¼ä¸ç¬¬ä¸‰æ–¹å…±äº«ã€‚å› æ‚¨ä¿ç®¡ä¸å–„å¯èƒ½å¯¼è‡´åº”ç”¨å‡­è¯è¢«ä»–äººä½¿ç”¨æˆ–å…±äº«ç§˜é’¥å¼•èµ·çš„æŸå¤±ï¼Œè´£ä»»ç”±æ‚¨è‡ªè¡Œæ‰¿æ‹…ã€‚

4. åœ¨æ‚¨æ€€ç–‘ä»–äººåœ¨ä½¿ç”¨æ‚¨çš„åº”ç”¨å‡­è¯æ—¶ï¼Œæ‚¨åŒæ„ç«‹å³é€šçŸ¥èœœèœ‚ğŸæ”¯ä»˜ã€‚å¦‚æœæ‚¨å½“å‰ä½¿ç”¨çš„åº”ç”¨å‡­è¯å¹¶ä¸æ˜¯æ‚¨åˆå§‹ç”³è¯·å¼€é€šçš„æˆ–è€…é€šè¿‡èœœèœ‚ğŸæ”¯ä»˜æä¾›çš„å…¶ä»–é€”å¾„è·å¾—çš„ï¼Œä½†æ‚¨å´çŸ¥æ‚‰è¯¥åº”ç”¨å‡­è¯ï¼Œæ‚¨ä¸å¾—ç”¨è¯¥åº”ç”¨å‡­è¯è¿›è¡Œä»»ä½•æ“ä½œï¼Œå¹¶è¯·æ‚¨åœ¨ç¬¬ä¸€æ—¶é—´é€šçŸ¥èœœèœ‚ğŸæ”¯ä»˜ã€‚



# è®¢å•ç®¡ç†
## ç»Ÿä¸€ä¸‹å•
### æ¥å£æ¦‚è¿°
- åŠŸèƒ½: ç»Ÿä¸€ä¸‹å•
- è¯·æ±‚æ–¹å¼: POST
- è¯·æ±‚åœ°å€: /v1/api/pay/unifiedorder
### è¯·æ±‚å‚æ•°
| å‚æ•°å       | ç±»å‹   | æ˜¯å¦å¿…é¡» | æè¿°                                                           | ç¤ºä¾‹å€¼                                  |
| ------------ | ------ | :------: | -------------------------------------------------------------- | --------------------------------------- |
| token        | string |    æ˜¯    | æˆæƒç                                                          | BA1B637A5C8D4B28ACB0889E559C5803        |
| channel_no   | string|    æ˜¯     | ä¸é€‰æ‹©æ¸ é“æ—¶å•ç‹¬ä¼ é€šé“ç¼–ç ï¼Œé€‰æ‹©æ¸ é“æ—¶ï¼Œé€—å·åˆ†å‰²                      | 1/ 1,wai1                                |
| subject      | string |    å¦    | æ ‡é¢˜                                                           | subject                                 |
| out_order_no | string |    æ˜¯    | å•†æˆ·è®¢å•å·                                                     | 20150320010101001                       |
| out_username | string |    å¦    | å•†æˆ·ä¼šå‘˜ç”¨æˆ·åï¼Œç”¨äºåå°å±•ç¤ºç”¨                                    | kehu1                               |
| money        | string |    æ˜¯    | é‡‘é¢ï¼Œå•ä½ä¸ºå…ƒï¼Œç²¾ç¡®åˆ°å°æ•°ç‚¹åä¸¤ä½                               | 1000                                    |
| client_ip    | string |    æ˜¯    | å®¢æˆ·IP                                                         | 0.0.0.0                                 |
| notify_url   | string |    æ˜¯    | å¼‚æ­¥é€šçŸ¥åœ°å€ï¼Œæ”¯ä»˜æˆåŠŸåå°†æ”¯ä»˜æˆåŠŸæ¶ˆæ¯ä»¥POSTè¯·æ±‚å‘é€ç»™è¿™ä¸ªç½‘å€ | http://www.demo.com/recieve_notice.html |
| return_url   | string |    å¦    | æ”¯ä»˜æˆåŠŸåè·³è½¬åœ°å€                                             | http://www.demo.com/paysucc.html        |
| param        | string |    å¦    | é€ä¼ å‚æ•°                                                       | xxxxxxxxxxxxxxxxx                       |
| payer_name   | string |    å¦    | ä»˜æ¬¾äººå§“åï¼Œä¼ å…¥ä»¥åï¼Œä»˜æ¬¾äººå¿…é¡»åŒ¹é…                             | é©¬åŒ–è…¾                                   |
| timestamp    | int64  |    æ˜¯    | å‘é€è¯·æ±‚çš„æ—¶é—´æˆ³,13ä½å¸¦æ¯«ç§’                                    | 1626863144831                           |

### å“åº”å‚æ•°
| å‚æ•°å            | ç±»å‹   | æè¿°               |
| ----------------- | ------ | ------------------ |
| mch_id            | int    | å•†æˆ·ç¼–å·           |
| order_no          | string | å¹³å°è®¢å•å·         |
| out_order_no      | string | å•†æˆ·è®¢å•å·         |
| money             | string | è®¢å•é‡‘é¢           |
| real_money        | string | çœŸå®çš„è®¢å•é‡‘é¢     |
| pay_url           | string | æ”¯ä»˜é“¾æ¥           |
| expired_time      | string | è¿‡æœŸæ—¶é—´           |
| expired_timestamp | int64  | è¿‡æœŸæ—¶é—´æ—¶é—´æˆ³æ¯«ç§’ |

### å“åº”å®ä¾‹
#### è¯·æ±‚æˆåŠŸ
```json
{
    "code":0,
    "msg":"ok",
    "data":{
        "mch_id":"1000123",
        "order_no":"202204157885214563228",
        "out_order_no":"20150320010101001",
        "money":"1000.00",
        "pay_url":"https://www.demo.com/#/?order_no=202204157885214563228",
        "expired_time":"2022-07-25 20:41:01",
        "expired_timestamp":1658752861000
    },
    "request_id":"ddec96d2165e4f3e8a642057db116983"
}
```

#### è¯·æ±‚å¤±è´¥

```json
{
    "code":2,
    "msg":"InvalidArgument",
    "data":{},
    "request_id":"ddec96d2165e4f3e8a642057db116983"
}
```

### é”™è¯¯ç 
| é”™è¯¯ä»£ç  | é”™è¯¯æè¿°                                   |
| -------- | ------------------------------------------ |
| 1        | æ‰¾ä¸åˆ°æ•°æ®                                 |
| 2        | tokenæ ¡éªŒä¸é€šè¿‡                            |
| 4        | è´¦å·çŠ¶æ€å¼‚å¸¸                               |
| 9        | æ’å…¥æ•°æ®åº“å¤±è´¥                             |
| 10       | æ’å…¥æ•°æ®åº“å¤±è´¥                             |
| -1       | money å‚æ•°æœ‰è¯¯                             |
| -2       | channel_no å‚æ•°æœ‰è¯¯                        |
| -3       | out_order_no å‚æ•°æœ‰è¯¯                      |
| -4       | æ‰¾ä¸åˆ°åˆé€‚çš„é“¶è¡Œå¡ï¼Œæ²¡æœ‰é…ç½®æˆ–è€…é™é¢å·²è¶…è¿‡ |
| -5       | æœªå¼€é€šå¯¹åº”é€šé“çš„é¢‘é“ä¿¡æ¯                   |


## è®¢å•æŸ¥è¯¢
### æ¥å£æ¦‚è¿°
- åŠŸèƒ½: è®¢å•æŸ¥è¯¢
- è¯·æ±‚æ–¹å¼: POST
- è¯·æ±‚åœ°å€: /v1/api/pay/query
### è¯·æ±‚å‚æ•°
| å‚æ•°å    | ç±»å‹   | æ˜¯å¦å¿…é¡» | æè¿°              | ç¤ºä¾‹å€¼                           |
| --------- | ------ | :------: | ----------------- | -------------------------------- |
| token     | string |    æ˜¯    | æˆæƒç             | BA1B637A5C8D4B28ACB0889E559C5803 |
| channel_no | int   |    æ˜¯    | é€šé“å·            | 2  |
| mch_id    | int    |    æ˜¯    | å•†æˆ·å·            | 100123                           |
| order_no  | string |    æ˜¯    | è®¢å•å·,ä¸out_order_noäºŒé€‰ä¸€            | 2015042321001004720              |
| out_order_no  | string |    æ˜¯    |å•†æˆ·è®¢å•å·, ä¸order_noäºŒé€‰ä¸€         | YY2015042321001004720              |
| timestamp | int    |    æ˜¯    | æ—¶é—´æˆ³,13ä½å¸¦æ¯«ç§’ | 1626863144831                    |

### å“åº”å‚æ•°
| å‚æ•°å            | ç±»å‹   | æè¿°                                                           |
| ----------------- | ------ | -------------------------------------------------------------- |
| mch_id            | int | å•†æˆ·å·                                                         |
| order_no          | string | å¹³å°è®¢å•å·                                                     |
| out_order_no      | string | å•†æˆ·è®¢å•å·                                                     |
| state             | int    | çŠ¶æ€	0=æœªå‡ºç ,1=äº¤æ˜“å¤±è´¥,2=å¾…æ”¯ä»˜,3=äº¤æ˜“æˆåŠŸ                   |
| money             | string | è®¢å•é‡‘é¢                                                       |
| notify_succ       | int    | 1=é€šçŸ¥æˆåŠŸï¼Œ0=é€šçŸ¥å¤±è´¥                                         |
| expired_time      | string | è¿‡æœŸæ—¶é—´                                                       |
| expired_timestamp | string | è¿‡æœŸæ—¶é—´æ—¶é—´æˆ³æ¯«ç§’                                             |
| notify_url        | string | å¼‚æ­¥é€šçŸ¥åœ°å€ï¼Œæ”¯ä»˜æˆåŠŸåå°†æ”¯ä»˜æˆåŠŸæ¶ˆæ¯ä»¥POSTè¯·æ±‚å‘é€ç»™è¿™ä¸ªç½‘å€ |
| pay_url           | string | æ”¯ä»˜åœ°å€                                                       |

### å“åº”å®ä¾‹
#### è¯·æ±‚æˆåŠŸ
```json
{
    "code":0,
    "msg":"ok",
    "data":{
        "mch_id":"1000122",
        "order_no":"2015042321001004720",
        "out_order_no":"20150320010101001",
        "state":0,
        "money":"1000.00",
        "notify_succ":"1",
        "expired_time":"2022-07-25 20:41:01",
        "expired_timestamp":"1658752861000",
        "notify_url":"https://your.domain.com/",
        "pay_url":"https://www.demo.com/#/?order_no=202204157885214563228",
    },
    "request_id":"ddec96d2165e4f3e8a642057db116983"
}
```

#### è¯·æ±‚å¤±è´¥

```json
{
    "code":1,
    "msg":"InvalidArgument",
    "data":{},
    "request_id":"ddec96d2165e4f3e8a642057db116983"
}
```

### é”™è¯¯ç 
| é”™è¯¯ä»£ç  | é”™è¯¯æè¿°          |
| -------- | ----------------- |
| 1        | æ‰¾ä¸åˆ°æ•°æ®        |
| 2        | å‚æ•°æ ¡éªŒä¸é€šè¿‡    |
| -1       | order_no å‚æ•°æœ‰è¯¯ |


## ä½™é¢æŸ¥è¯¢
### æ¥å£æ¦‚è¿°
- åŠŸèƒ½: ä½™é¢æŸ¥è¯¢
- è¯·æ±‚æ–¹å¼: POST
- è¯·æ±‚åœ°å€: /v1/api/pay/balance
### è¯·æ±‚å‚æ•°
| å‚æ•°å    | ç±»å‹   | æ˜¯å¦å¿…é¡» | æè¿°              | ç¤ºä¾‹å€¼         |
| --------- | ------ | :------: | ----------------- | -------------- |
| token     | string |    æ˜¯    | æè¿°              | 12345223412342 |
| mch_id    | int    |    æ˜¯    | å•†æˆ·å·            | 100123         |
| timestamp | int    |    æ˜¯    | æ—¶é—´æˆ³,13ä½å¸¦æ¯«ç§’ | 1626863144831  |
### å“åº”å‚æ•°
| å‚æ•°å  | ç±»å‹   | æè¿° |
| ------- | ------ | ---- |
| balance | string | ä½™é¢ |

### å“åº”å®ä¾‹
#### è¯·æ±‚æˆåŠŸ
```json
{
    "code":0,
    "msg":"ok",
    "data":{
        "balance":"10000.00"
    },
    "request_id":"ddec96d2165e4f3e8a642057db116983"
}
```

#### è¯·æ±‚å¤±è´¥
```json
{
    "code":1,
    "msg":"InvalidArgument",
    "data":{},
    "request_id":"ddec96d2165e4f3e8a642057db116983"
}
```

### é”™è¯¯ç 
| é”™è¯¯ä»£ç  | é”™è¯¯æè¿°        |
| -------- | --------------- |
| 1        | æ‰¾ä¸åˆ°æ•°æ®      |
| 2        | tokenæ ¡éªŒä¸é€šè¿‡ |
| 3        | å‚æ•°æ ¡éªŒä¸é€šè¿‡  |


## ä»£ä»˜
### æ¥å£æ¦‚è¿°
- åŠŸèƒ½: ä»£ä»˜
- è¯·æ±‚æ–¹å¼: POST
- è¯·æ±‚åœ°å€: /v1/api/pay/behalf
### è¯·æ±‚å‚æ•°
| å‚æ•°å           | ç±»å‹   | æ˜¯å¦å¿…é¡» | æè¿°         | ç¤ºä¾‹å€¼                    |
|---------------| ------ | :------: |------------|------------------------|
| token         | string |    æ˜¯    | æè¿°         | 12345223412342         |
| address       | string |    æ˜¯    | åœ°å€         | æ–°åå¤§è¡—67å·                |
| bank_name     | string |    æ˜¯    | é“¶è¡Œå¡åç§°      | å·¥å•†é“¶è¡Œ                   |
| bank_no       | string |    æ˜¯    | é“¶è¡Œå¡å·       | 62148301****3544       |
| card_username | string |    æ˜¯  | é“¶è¡Œå¡ç”¨æˆ·å     | å¼ ä¸‰                     |
| client_ip     | string |    æ˜¯    | å®¢æˆ·IP       | 43.5.66.12             |
| level         | int  |    æ˜¯    | è¦æ±‚ç­‰çº§       | 1                      |
| memo          | string |    æ˜¯    | å¤‡æ³¨         | å¤‡æ³¨ä¿¡æ¯                   |
| money         | string |    æ˜¯    | é‡‘é¢         | 1000                   |
| notify_url    | string |    æ˜¯    | å›è°ƒåœ°å€       | 127.0.0.1:27110/notify |
| out_order_no  | string |    æ˜¯    | è®¢å•ç¼–å·       | 20230412110329         |
| param         | string |    æ˜¯    | é€ä¼ å‚æ•°       | {"ss":"222"}           |
| timestamp     | int    |    æ˜¯    | æ—¶é—´æˆ³,13ä½å¸¦æ¯«ç§’ | 1626863144831          |

### å“åº”å‚æ•°
| å‚æ•°å               | ç±»å‹     | æè¿°           |
|-------------------|--------|--------------|
| mch_id            | int    | å•†æˆ·ID         |
| order_no          | string | å¹³å°è®¢å•å·        |
| out_order_no      | string | å•†æˆ·è®¢å•å·        |
| money             | string | è®¢å•é‡‘é¢         |
| real_money        | string | å®é™…é‡‘é¢         |
| pay_url           | string | æ”¯ä»˜åœ°å€         |
| expired_time      | string | è¿‡æœŸæ—¶é—´         |
| expired_timestamp | string | è¿‡æœŸæ—¶é—´(æ¯«ç§’çº§æ—¶é—´æˆ³) |

### å“åº”å®ä¾‹
#### è¯·æ±‚æˆåŠŸ
```json
{
    "code":0,
    "msg":"ok",
    "data":{
         "mch_id":1,
         "order_no":"2015042321001004720",
         "out_order_no":"20150320010101001",
         "money":"1000",
         "real_money":"999",
         "pay_url": "www.mifengpay.com/pay",
         "expired_time":"1681269101",
         "expired_timestamp":"16812691010000"
    },
    "request_id":"ddec96d2165e4f3e8a642057db116983"
}
```

#### è¯·æ±‚å¤±è´¥
```json
{
    "code":1,
    "msg":"InvalidArgument",
    "data":{},
    "request_id":"ddec96d2165e4f3e8a642057db116983"
}
```

## é“¶è¡Œå¡æ¸ é“åˆ—è¡¨
### æ¥å£æ¦‚è¿°
- åŠŸèƒ½: é“¶è¡Œå¡æ¸ é“åˆ—è¡¨
- è¯·æ±‚æ–¹å¼: POST
- è¯·æ±‚åœ°å€: /v1/api/pay/bankcard/channel/list
### è¯·æ±‚å‚æ•°
| å‚æ•°å           | ç±»å‹     | æ˜¯å¦å¿…é¡» | æè¿°     | ç¤ºä¾‹å€¼            |
|---------------|--------| :------: |--------|----------------|
| token         | string |    æ˜¯    | æè¿°     | 12345223412342 |


### å“åº”å‚æ•°
| å‚æ•°å               | ç±»å‹     | æè¿°           |
|-------------------|--------|--------------|
| channel_name      | string | é€šé“åç§°         |
| memo              | string | å¤‡æ³¨           |

### å“åº”å®ä¾‹
#### è¯·æ±‚æˆåŠŸ
```json
{
    "code":0,
    "msg":"ok",
    "data":[{
        "level_name":"wai1",
        "memo":"å¤–å±‚1"
    },{
        "level_name":"nei1",
        "memo":"å†…å±‚1"
    }],
    "request_id":"ddec96d2165e4f3e8a642057db116983"
}
```

#### è¯·æ±‚å¤±è´¥
```json
{
    "code":1,
    "msg":"InvalidArgument",
    "data":{},
    "request_id":"ddec96d2165e4f3e8a642057db116983"
}
```

### é”™è¯¯ç 
| é”™è¯¯ä»£ç  | é”™è¯¯æè¿°       |
|------|------------|
| 1    | tokenæ ¡éªŒä¸é€šè¿‡ |
| -1   | å‚æ•°æœ‰è¯¯       |
| 3    | æŸ¥è¯¢å¤±è´¥       |


## ç»Ÿä¸€ä¸‹å•ã€ç­¾åã€‘
### æ¥å£æ¦‚è¿°
- åŠŸèƒ½: ç»Ÿä¸€ä¸‹å•
- è¯·æ±‚æ–¹å¼: POST
- è¯·æ±‚åœ°å€: /v1/api/pay/sign/unifiedorder
### ç­¾åå­—ç¬¦ä¸²
```
channel_no=%d&client_ip=%s&mch_id=%d&money=%s&notify_url=%s&out_order_no=%s&out_username=%s&param=%s&payer_name=%s&return_url=%s&subject=%s&timestamp=%d&key=%s
```
### è¯·æ±‚å‚æ•°
| å‚æ•°å       | ç±»å‹   | æ˜¯å¦å¿…é¡» | æè¿°                                                           | ç¤ºä¾‹å€¼                                  |
| ------------ | ------ | :------: | -------------------------------------------------------------- | --------------------------------------- |
| sign         | string |    æ˜¯    | ç­¾å                                                           | aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa        |
| mch_id       | int    |    æ˜¯    | å•†æˆ·ç¼–å·                                                       | 1000010                                 |
| channel_no   | string |    æ˜¯    | ä¸é€‰æ‹©æ¸ é“æ—¶å•ç‹¬ä¼ é€šé“ç¼–ç ï¼Œé€‰æ‹©æ¸ é“æ—¶ï¼Œé€—å·åˆ†å‰²                      | 1/ 1,wai1                                     |
| subject      | string |    å¦    | æ ‡é¢˜                                                           | subject                                 |
| out_order_no | string |    æ˜¯    | å•†æˆ·è®¢å•å·                                                     | 20150320010101001                       |
| out_username | string |    å¦    | å•†æˆ·ä¼šå‘˜ç”¨æˆ·åï¼Œç”¨äºåå°å±•ç¤ºç”¨                                   | kehu1                               |
| money        | string |    æ˜¯    | é‡‘é¢ï¼Œå•ä½ä¸ºå…ƒï¼Œç²¾ç¡®åˆ°å°æ•°ç‚¹åä¸¤ä½                             | 1000                                    |
| client_ip    | string |    æ˜¯    | å®¢æˆ·IP                                                         | 0.0.0.0                                 |
| notify_url   | string |    æ˜¯    | å¼‚æ­¥é€šçŸ¥åœ°å€ï¼Œæ”¯ä»˜æˆåŠŸåå°†æ”¯ä»˜æˆåŠŸæ¶ˆæ¯ä»¥POSTè¯·æ±‚å‘é€ç»™è¿™ä¸ªç½‘å€ | http://www.demo.com/recieve_notice.html |
| return_url   | string |    å¦    | æ”¯ä»˜æˆåŠŸåè·³è½¬åœ°å€                                             | http://www.demo.com/paysucc.html        |
| param        | string |    å¦    | é€ä¼ å‚æ•°                                                       | xxxxxxxxxxxxxxxxx                       |
| payer_name   | string |    å¦    | ä»˜æ¬¾äººå§“åï¼Œä¼ å…¥ä»¥åï¼Œä»˜æ¬¾äººå¿…é¡»åŒ¹é…                             | é©¬åŒ–è…¾                                   |
| timestamp    | int64  |    æ˜¯    | å‘é€è¯·æ±‚çš„æ—¶é—´æˆ³,13ä½å¸¦æ¯«ç§’                                    | 1626863144831                           |

### å“åº”å‚æ•°
| å‚æ•°å            | ç±»å‹   | æè¿°               |
| ----------------- | ------ | ------------------ |
| mch_id            | int    | å•†æˆ·ç¼–å·           |
| order_no          | string | å¹³å°è®¢å•å·         |
| out_order_no      | string | å•†æˆ·è®¢å•å·         |
| money             | string | è®¢å•é‡‘é¢           |
| real_money        | string | çœŸå®çš„è®¢å•é‡‘é¢     |
| pay_url           | string | æ”¯ä»˜é“¾æ¥           |
| expired_time      | string | è¿‡æœŸæ—¶é—´           |
| expired_timestamp | int64  | è¿‡æœŸæ—¶é—´æ—¶é—´æˆ³æ¯«ç§’ |

### å“åº”å®ä¾‹
#### è¯·æ±‚æˆåŠŸ
```json
{
    "code":0,
    "msg":"ok",
    "data":{
        "mch_id":"1000123",
        "order_no":"202204157885214563228",
        "out_order_no":"20150320010101001",
        "money":"1000.00",
        "pay_url":"https://www.demo.com/#/?order_no=202204157885214563228",
        "expired_time":"2022-07-25 20:41:01",
        "expired_timestamp":1658752861000
    },
    "request_id":"ddec96d2165e4f3e8a642057db116983"
}
```

#### è¯·æ±‚å¤±è´¥

```json
{
    "code":2,
    "msg":"InvalidArgument",
    "data":{},
    "request_id":"ddec96d2165e4f3e8a642057db116983"
}
```

### é”™è¯¯ç 
| é”™è¯¯ä»£ç  | é”™è¯¯æè¿°                                   |
| -------- | ------------------------------------------ |
| 1        | æ‰¾ä¸åˆ°æ•°æ®                                 |
| 2        | tokenæ ¡éªŒä¸é€šè¿‡                            |
| 4        | è´¦å·çŠ¶æ€å¼‚å¸¸                               |
| 9        | æ’å…¥æ•°æ®åº“å¤±è´¥                             |
| 10       | æ’å…¥æ•°æ®åº“å¤±è´¥                             |
| -1       | money å‚æ•°æœ‰è¯¯                             |
| -2       | channel_no å‚æ•°æœ‰è¯¯                        |
| -3       | out_order_no å‚æ•°æœ‰è¯¯                      |
| -4       | æ‰¾ä¸åˆ°åˆé€‚çš„é“¶è¡Œå¡ï¼Œæ²¡æœ‰é…ç½®æˆ–è€…é™é¢å·²è¶…è¿‡ |
| -5       | æœªå¼€é€šå¯¹åº”é€šé“çš„é¢‘é“ä¿¡æ¯                   |


## è®¢å•æŸ¥è¯¢ã€ç­¾åã€‘
### æ¥å£æ¦‚è¿°
- åŠŸèƒ½: è®¢å•æŸ¥è¯¢
- è¯·æ±‚æ–¹å¼: POST
- è¯·æ±‚åœ°å€: /v1/api/pay/sign/query
### ç­¾åå­—ç¬¦ä¸²
```
channel_no=2&mch_id=%d&order_no=%s&timestamp=%d&key=%s
``` 
### è¯·æ±‚å‚æ•°
| å‚æ•°å    | ç±»å‹   | æ˜¯å¦å¿…é¡» | æè¿°              | ç¤ºä¾‹å€¼                           |
| --------- | ------ | :------: | ----------------- | -------------------------------- |
| sign      | string |    æ˜¯    | ç­¾å              | aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa |
| channel_no | int   |    æ˜¯    | é€šé“å·            | 2  |
| mch_id    | int    |    æ˜¯    | å•†æˆ·ç¼–å·          | 1000010                          |
| order_no  | string |    æ˜¯    | è®¢å•å·,ä¸out_order_noäºŒé€‰ä¸€            | 2015042321001004720              |
| out_order_no  | string |    æ˜¯    |å•†æˆ·è®¢å•å·, ä¸order_noäºŒé€‰ä¸€         | YY2015042321001004720              |
| timestamp | int    |    æ˜¯    | æ—¶é—´æˆ³,13ä½å¸¦æ¯«ç§’ | 1626863144831                    |

### å“åº”å‚æ•°
| å‚æ•°å            | ç±»å‹   | æè¿°                                                           |
| ----------------- | ------ | -------------------------------------------------------------- |
| mch_id            | int | å•†æˆ·å·                                                         |
| order_no          | string | å¹³å°è®¢å•å·                                                     |
| out_order_no      | string | å•†æˆ·è®¢å•å·                                                     |
| state             | int    | çŠ¶æ€	0=æœªå‡ºç ,1=äº¤æ˜“å¤±è´¥,2=å¾…æ”¯ä»˜,3=äº¤æ˜“æˆåŠŸ                   |
| money             | string | è®¢å•é‡‘é¢                                                       |
| notify_succ       | int    | 1=é€šçŸ¥æˆåŠŸï¼Œ0=é€šçŸ¥å¤±è´¥                                         |
| expired_time      | string | è¿‡æœŸæ—¶é—´                                                       |
| expired_timestamp | string | è¿‡æœŸæ—¶é—´æ—¶é—´æˆ³æ¯«ç§’                                             |
| notify_url        | string | å¼‚æ­¥é€šçŸ¥åœ°å€ï¼Œæ”¯ä»˜æˆåŠŸåå°†æ”¯ä»˜æˆåŠŸæ¶ˆæ¯ä»¥POSTè¯·æ±‚å‘é€ç»™è¿™ä¸ªç½‘å€ |
| pay_url           | string | æ”¯ä»˜åœ°å€                                                       |

### å“åº”å®ä¾‹
#### è¯·æ±‚æˆåŠŸ
```json
{
    "code":0,
    "msg":"ok",
    "data":{
        "mch_id":"1000122",
        "order_no":"2015042321001004720",
        "out_order_no":"20150320010101001",
        "state":0,
        "money":"1000.00",
        "notify_succ":"1",
        "expired_time":"2022-07-25 20:41:01",
        "expired_timestamp":"1658752861000",
        "notify_url":"https://your.domain.com/",
        "pay_url":"https://www.demo.com/#/?order_no=202204157885214563228",
    },
    "request_id":"ddec96d2165e4f3e8a642057db116983"
}
```

#### è¯·æ±‚å¤±è´¥

```json
{
    "code":1,
    "msg":"InvalidArgument",
    "data":{},
    "request_id":"ddec96d2165e4f3e8a642057db116983"
}
```

### é”™è¯¯ç 
| é”™è¯¯ä»£ç  | é”™è¯¯æè¿°          |
| -------- | ----------------- |
| 1        | æ‰¾ä¸åˆ°æ•°æ®        |
| 2        | å‚æ•°æ ¡éªŒä¸é€šè¿‡    |
| -1       | order_no å‚æ•°æœ‰è¯¯ |


## ä½™é¢æŸ¥è¯¢ã€ç­¾åã€‘
### æ¥å£æ¦‚è¿°
- åŠŸèƒ½: ä½™é¢æŸ¥è¯¢
- è¯·æ±‚æ–¹å¼: POST
- è¯·æ±‚åœ°å€: /v1/api/pay/sign/balance
### ç­¾åå­—ç¬¦ä¸²
```
mch_id=%d&timestamp=%d&key=%s
``` 
### è¯·æ±‚å‚æ•°
| å‚æ•°å    | ç±»å‹   | æ˜¯å¦å¿…é¡» | æè¿°              | ç¤ºä¾‹å€¼                           |
| --------- | ------ | :------: | ----------------- | -------------------------------- |
| sign      | string |    æ˜¯    | ç­¾å              | aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa |
| mch_id    | int    |    æ˜¯    | å•†æˆ·ç¼–å·          | 1000010                          |
| timestamp | int    |    æ˜¯    | æ—¶é—´æˆ³,13ä½å¸¦æ¯«ç§’ | 1626863144831                    |
### å“åº”å‚æ•°
| å‚æ•°å  | ç±»å‹   | æè¿° |
| ------- | ------ | ---- |
| balance | string | ä½™é¢ |

### å“åº”å®ä¾‹
#### è¯·æ±‚æˆåŠŸ
```json
{
    "code":0,
    "msg":"ok",
    "data":{
        "balance":"10000.00"
    },
    "request_id":"ddec96d2165e4f3e8a642057db116983"
}
```

#### è¯·æ±‚å¤±è´¥
```json
{
    "code":1,
    "msg":"InvalidArgument",
    "data":{},
    "request_id":"ddec96d2165e4f3e8a642057db116983"
}
```

### é”™è¯¯ç 
| é”™è¯¯ä»£ç  | é”™è¯¯æè¿°        |
| -------- | --------------- |
| 1        | æ‰¾ä¸åˆ°æ•°æ®      |
| 2        | tokenæ ¡éªŒä¸é€šè¿‡ |
| 3        | å‚æ•°æ ¡éªŒä¸é€šè¿‡  |


# å¼‚æ­¥é€šçŸ¥
```
è¯¥é“¾æ¥æ˜¯é€šè¿‡ã€ç»Ÿä¸€ä¸‹å•APIã€‘ä¸­æäº¤çš„å‚æ•°notify_urlè®¾ç½®ï¼Œå¦‚æœé“¾æ¥æ— æ³•è®¿é—®ï¼Œå•†æˆ·å°†æ— æ³•æ¥æ”¶åˆ°é€šçŸ¥ã€‚

é€šçŸ¥urlå¿…é¡»ä¸ºç›´æ¥å¯è®¿é—®çš„urlï¼Œä¸èƒ½æºå¸¦å‚æ•°ã€‚ç¤ºä¾‹ï¼šnotify_urlï¼šâ€œhttps://pay.demo.com/pay.htmlâ€

è¯¥é€šçŸ¥ä»¥POSTæ–¹å¼è¯·æ±‚ï¼Œç¼–ç ï¼šUTF8ï¼ŒJSONæ ¼å¼æ•°æ®æµ

å•†æˆ·æ¥æ”¶åˆ°é€šçŸ¥åï¼Œè¿”å›â€œSUCCESSâ€å­—ç¬¦ä¸²ï¼Œå¹³å°å°†ä¸å†é€šçŸ¥(SUCCESS ä½¿ç”¨å¤§å†™å­—æ¯)ï¼›å¦‚æœæ²¡æœ‰åé¦ˆï¼Œå¹³å°å°†åœ¨10åˆ†é’Ÿå†…ï¼Œé€šçŸ¥6æ¬¡ï¼Œä¹‹åå°†ä¸å†ä¸»åŠ¨å‘èµ·é€šçŸ¥
```
## å‚æ•°è¯´æ˜
| å‚æ•°å       | ç±»å‹   | æè¿°                                | ç¤ºä¾‹å€¼              |
| ------------ | ------ | ----------------------------------- | ------------------- |
| mch_id       | int    | å•†æˆ·ç¼–å·                            | 1000010             |
| money        | string | è®¢å•é‡‘é¢                            | 1000.00             |
| real_money   | string | å®é™…é‡‘é¢                            | 1000.00             |
| notify_time  | string | é€šçŸ¥æ—¶é—´                            | 2006-01-02 15:04:05 |
| order_no     | string | å¹³å°è®¢å•å·                          | 2015042321001004720 |
| out_order_no | string | å•†æˆ·è®¢å•å·                          | CZX00901239888173   |
| param        | string | é€ä¼ å‚æ•°                            | xxxxxxxxxxxxxxx     |
| state        | int    | 1æœªå‡ºç ,2å¾…æ”¯ä»˜,3äº¤æ˜“æˆåŠŸ,4äº¤æ˜“å¤±è´¥ | 1                   |
| sign         | string | ç­¾åï¼Œè¯¦æƒ…è§ç­¾åè§„åˆ™                |

## ç­¾åå­—ç¬¦ä¸²
```
mch_id=%d&money=%s&notify_time=%s&order_no=%s&out_order_no=%s&param=%s&real_money=%s&state=%d&key=%s
```

## ä»£ä»˜
### æ¥å£æ¦‚è¿°
- åŠŸèƒ½: ä»£ä»˜
- è¯·æ±‚æ–¹å¼: POST
- è¯·æ±‚åœ°å€: /v1/api/pay/sign/behalf

### ç­¾åå­—ç¬¦ä¸²
```
address=%d&bank_name=%s&bank_no=%d&card_username=%s&client_ip=%s&level=%s&memo=%s&moey=%s&notify_url=%s&out_order_no=%s&Param=%s&timestamp=%d&key=%s
```

### è¯·æ±‚å‚æ•°
| å‚æ•°å           | ç±»å‹   | æ˜¯å¦å¿…é¡» | æè¿°         | ç¤ºä¾‹å€¼                    |
|---------------| ------ | :------: |------------|------------------------|
| address       | string |    æ˜¯    | åœ°å€         | æ–°åå¤§è¡—67å·                |
| mch_id    | int    |    æ˜¯    | å•†æˆ·å·            | 100123                     |
| bank_name     | string |    æ˜¯    | é“¶è¡Œå¡åç§°      | å·¥å•†é“¶è¡Œ                   |
| bank_no       | string |    æ˜¯    | é“¶è¡Œå¡å·       | 62148301****3544       |
| card_username | string |    æ˜¯  | é“¶è¡Œå¡ç”¨æˆ·å     | å¼ ä¸‰                     |
| client_ip     | string |    æ˜¯    | å®¢æˆ·IP       | 43.5.66.12             |
| level         | int  |    æ˜¯    | è¦æ±‚ç­‰çº§       | 1                      |
| memo          | string |    æ˜¯    | å¤‡æ³¨         | å¤‡æ³¨ä¿¡æ¯                   |
| money         | string |    æ˜¯    | é‡‘é¢         | 1000                   |
| notify_url    | string |    æ˜¯    | å›è°ƒåœ°å€       | 127.0.0.1:27110/notify |
| out_order_no  | string |    æ˜¯    | è®¢å•ç¼–å·       | 20230412110329         |
| param         | string |    æ˜¯    | é€ä¼ å‚æ•°       | {"ss":"222"}           |
| timestamp     | int    |    æ˜¯    | æ—¶é—´æˆ³,13ä½å¸¦æ¯«ç§’ | 1626863144831          |
| sign          | string |    æ˜¯    | ç­¾åï¼Œè¯¦æƒ…è§ç­¾åè§„åˆ™ |          |

### å“åº”å‚æ•°
| å‚æ•°å               | ç±»å‹     | æè¿°           |
|-------------------|--------|--------------|
| mch_id            | int    | å•†æˆ·ID         |
| order_no          | string | å¹³å°è®¢å•å·        |
| out_order_no      | string | å•†æˆ·è®¢å•å·        |
| money             | string | è®¢å•é‡‘é¢         |
| real_money        | string | å®é™…é‡‘é¢         |
| pay_url           | string | æ”¯ä»˜åœ°å€         |
| expired_time      | string | è¿‡æœŸæ—¶é—´         |
| expired_timestamp | string | è¿‡æœŸæ—¶é—´(æ¯«ç§’çº§æ—¶é—´æˆ³) |

### å“åº”å®ä¾‹
#### è¯·æ±‚æˆåŠŸ
```json
{
    "code":0,
    "msg":"ok",
    "data":{
         "mch_id":1,
         "order_no":"2015042321001004720",
         "out_order_no":"20150320010101001",
         "money":"1000",
         "real_money":"999",
         "pay_url": "www.mifengpay.com/pay",
         "expired_time":"1681269101",
         "expired_timestamp":"16812691010000"
    },
    "request_id":"ddec96d2165e4f3e8a642057db116983"
}
```

#### è¯·æ±‚å¤±è´¥
```json
{
    "code":1,
    "msg":"InvalidArgument",
    "data":{},
    "request_id":"ddec96d2165e4f3e8a642057db116983"
}
```


## é“¶è¡Œå¡æ¸ é“åˆ—è¡¨ç­¾å
### æ¥å£æ¦‚è¿°
- åŠŸèƒ½: é“¶è¡Œå¡é€šé“åˆ—è¡¨
- è¯·æ±‚æ–¹å¼: POST
- è¯·æ±‚åœ°å€: /v1/api/pay/sign/bankcard/channel/list

### ç­¾åå­—ç¬¦ä¸²
```
mch_id=%d&timestamp=%d&key=%s
```

### è¯·æ±‚å‚æ•°
| å‚æ•°å            | ç±»å‹     | æ˜¯å¦å¿…é¡» | æè¿°         | ç¤ºä¾‹å€¼              |
|----------------|--------|:----:|------------|------------------|
| mch_id         | int    |   æ˜¯  | å•†æˆ·ID       | 62148301****3544 |
| timestamp      | int    |  æ˜¯   | æ—¶é—´æˆ³,13ä½å¸¦æ¯«ç§’ | 1626863144831    |
| sign           | string |  æ˜¯   | ç­¾åï¼Œè¯¦æƒ…è§ç­¾åè§„åˆ™ |                  |

### å“åº”å‚æ•°
| å‚æ•°å               | ç±»å‹     | æè¿°           |
|-------------------|--------|--------------|
| level_name        | string | é€šé“åç§°         |
| memo              | string | å¤‡æ³¨           |

### å“åº”å®ä¾‹
#### è¯·æ±‚æˆåŠŸ
```json
{
    "code":0,
    "msg":"ok",
    "data":[{
        "level_name":"wai1",
        "memo":"å¤–å±‚1"
    },{
        "level_name":"nei1",
        "memo":"å†…å±‚1"
    }],
    "request_id":"ddec96d2165e4f3e8a642057db116983"
}
```

#### è¯·æ±‚å¤±è´¥
```json
{
    "code":1,
    "msg":"InvalidArgument",
    "data":{},
    "request_id":"ddec96d2165e4f3e8a642057db116983"
}
```

### é”™è¯¯ç 
| é”™è¯¯ä»£ç  | é”™è¯¯æè¿°     |
|------|----------|
| -1   | å‚æ•°æœ‰è¯¯     |
| 2    | æŸ¥è¯¢å¤±è´¥     |
| 3    | signéªŒè¯å¤±è´¥ |



# æ›´æ–°æ—¥å¿—
- 2022å¹´8æœˆ9æ—¥ ç¬¬ä¸€ç‰ˆåˆå§‹æ›´æ–°
- 2022å¹´9æœˆ14æ—¥ å¢åŠ ç­¾åè§„åˆ™ï¼Œ ä¼˜åŒ–ç»†èŠ‚
- 2022å¹´10æœˆ17æ—¥ åŠ å…¥ä»˜æ¬¾äººå‚æ•°
- 2023å¹´4æœˆ12æ—¥ åŠ å…¥ä»£ä»˜æ¥å£æ–‡æ¡£

# è”ç³»æˆ‘ä»¬
ä»»ä½•å»ºè®®å’Œé—®é¢˜éšæ—¶ åä¸ªæ§½

å®˜æ–¹tg: https://t.me/mifengpay

å®˜æ–¹ç½‘ç«™: 
